
@model saarthi.Models.Farmer
@using Westwind.Globalization
@using System.Threading

@using (Html.BeginForm("Farmer_Registration", "Users", null, FormMethod.Post, new { enctype = "multipart/form-data", id = "Farmerform", @class = "form-horizontal" }))
{
    @Html.HiddenFor(model => model.strAction)
    @Html.HiddenFor(model => model.AutoId)

    @Html.HiddenFor(model => model.StateId, new { @id = "FarmerStateId" })
    @Html.HiddenFor(model => model.DistrictId, new { @id = "FarmerDistrictId" })
    @Html.HiddenFor(model => model.TalukaId, new { @id = "FarmerTalukaId" })

    @Html.HiddenFor(model => model.FarmStateId)
    @Html.HiddenFor(model => model.FarmDistrictId)
    @Html.HiddenFor(model => model.FarmTalukaId)

    @Html.HiddenFor(model => model.BankId, new { @id = "FarmerBankId" })
    @Html.HiddenFor(model => model.APMCId, new { @id = "FarmerAPMCId" })

    <div class="row" style="background-color:darkslategrey;width:99%">
        <div class="col-sm-12">
            <label class='ml-10 pt-5' style="font-size:14px;color:white;font-weight:bold">@DbRes.T("BASIC INFORMATION", "Farmer_Form")</label>
        </div>
    </div>
    <div class="row mt-10">
        <div class="col-sm-12">
            <div class="col-sm-12">
                <label class='col-md-1 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Name", "Farmer_Form"):</label>
                <div class="col-sm-10">
                    <div class="col-sm-4">
                        @Html.TextBoxFor(model => model.FirstName, new { @class = "form-control", @id="FarmerFirstName", @placeholder = @DbRes.T("First Name", "Farmer_Form"), @tabindex = '1', @style = "margin-left:15%" })
                    </div>
                    <div class="col-sm-4">
                        @Html.TextBoxFor(model => model.MiddleName, new { @class = "form-control",@id="FarmerMiddleName", @placeholder = @DbRes.T("Middle Name", "Farmer_Form"), @tabindex = '2', @style = "margin-left:17%" })
                    </div>
                    <div class="col-sm-4">
                        @Html.TextBoxFor(model => model.LastName, new { @class = "form-control", @id="FarmerLastName",@placeholder = @DbRes.T("Last Name", "Farmer_Form"), @tabindex = '2', @style = "margin-left:19%;width:97%;" })
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Residance Address 1", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextAreaFor(model => model.Address1, new { @class = "form-control", @style = "height:60px !important", @rows = '3', @placeholder = @DbRes.T("Residance Address 1", "Farmer_Form"), @tabindex = '4' })
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Residance Address 2", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextAreaFor(model => model.Address2, new { @class = "form-control", @style = "height:60px !important", @rows = '3', @placeholder = @DbRes.T("Residance Address 2", "Farmer_Form"), @tabindex = '5' })
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("State", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <select id="ddlFarmerState" class="form-control select2" tabindex="4">
                    <option>@DbRes.T("SELECT", "Common")</option>
                </select>
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("District", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <select id="ddlFarmerDistrict" class="form-control select2" tabindex="5">
                    <option>@DbRes.T("SELECT", "Common")</option>
                </select>
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Taluka", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <select id="ddlFarmerTaluka" class="form-control select2" tabindex="6">
                    <option>@DbRes.T("SELECT", "Common")</option>
                </select>
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Pin Code", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.PinCode, new { @class = "form-control", @placeholder = @DbRes.T("Pin Code", "Farmer_Form"), @tabindex = '7' })
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Contact No.", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.ContactNo, new { @class = "form-control", @placeholder = @DbRes.T("Contact No.", "Farmer_Form"), @tabindex = '8' })
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Mobile No.", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.MobileNo, new { @class = "form-control numericOnly", @placeholder = @DbRes.T("Mobile No.", "Farmer_Form"), @tabindex = '9' })
            </div>
        </div>
    </div>

    <div class="row mt-10" style="background-color:darkslategrey;width:99%">
        <div class="col-sm-12">
            <label class='ml-10 pt-5' style="font-size:14px;color:white;font-weight:bold">
                @DbRes.T("FARM INFORMATION", "Farmer_Form")
            </label>
        </div>
    </div>


    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Farm Address 1", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextAreaFor(model => model.FarmAddress1, new { @class = "form-control", cols = "5", rows = "3", @placeholder = @DbRes.T("Farm Address 1", "Farmer_Form"), @tabindex = "14" })
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Farm Address 2", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextAreaFor(model => model.FarmAddress2, new { @class = "form-control", cols = "5", rows = "3", @placeholder = @DbRes.T("Farm Address 2", "Farmer_Form"), @tabindex = "15" })
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("State", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <select id="ddlFarmerState_Chair" class="form-control select2" tabindex="16">
                    <option>@DbRes.T("SELECT", "Common")</option>
                </select>
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("District", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <select id="ddlFarmerDistrict_Chair" class="form-control select2" tabindex="17">
                    <option>@DbRes.T("SELECT", "Common")</option>
                </select>
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Taluka", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <select id="ddlFarmerTaluka_Chair" class="form-control select2" tabindex="18">
                    <option>@DbRes.T("SELECT", "Common")</option>
                </select>
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Pin Code", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.FarmPinCode, new { @class = "form-control", @placeholder = @DbRes.T("Pin Code", "Farmer_Form"), @tabindex = "19" })
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Kishan Card No.", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.KishanCard, new { @class = "form-control", @placeholder = @DbRes.T("Kishan Card No.", "Farmer_Form"), @tabindex = "20" })
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("E-Mail ID", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.FarmEmail, new { @class = "form-control", @placeholder = @DbRes.T("E-Mail ID", "Farmer_Form"), @tabindex = "21" })
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-6 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Are You Associated With Any APMC", "Farmer_Form"):</label>
            <label class="checkbox-inline" style="width: 100px;">@Html.RadioButtonFor(model => model.IsAPMCAssosiated, true)@DbRes.T("Yes", "Farmer_Form")</label>
            <label class="checkbox-inline" style="width: 100px;">@Html.RadioButtonFor(model => model.IsAPMCAssosiated, false)@DbRes.T("No", "Farmer_Form")</label>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("APMC Name", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <select id="ddlFarmerAPMC" class="form-control select2" tabindex="18">
                    <option>@DbRes.T("SELECT", "Common")</option>
                </select>
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Farming", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <label class="checkbox-inline">
                    @Html.CheckBoxFor(model => model.DealInFruit, new { @tabindex = "37" })
                    @DbRes.T("Fruits", "Farmer_Form")
                </label>
                <label class="checkbox-inline">
                    @Html.CheckBoxFor(model => model.DealInVeg, new { @tabindex = "38" })
                    @DbRes.T("Vegetables", "Farmer_Form")
                </label>
                <label class="checkbox-inline">
                    @Html.CheckBoxFor(model => model.DealInOther, new { @tabindex = "39" })
                    @DbRes.T("Others", "Farmer_Form")
                </label>
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Others", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.DealOther, new { @class = "form-control", @placeholder = @DbRes.T("Others", "Farmer_Form"), @tabindex = "40" })
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Ref Type", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <select id="ddlRefType" class="form-control select2" tabindex="18">
                    <option>@DbRes.T("SELECT", "Common")</option>
                </select>
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Ref Name", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <select id="ddlRefName" class="form-control select2" tabindex="18">
                    <option>@DbRes.T("SELECT", "Common")</option>
                </select>
            </div>
        </div>
    </div>





    <div class="row mt-10" style="background-color:darkslategrey;width:99%">
        <div class="col-sm-12">
            <label class='ml-10 pt-5' style="font-size:14px;color:white;font-weight:bold">
                @DbRes.T("BANKING INFORMATION", "Farmer_Form")
            </label>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Bank Name", "Farmer_Form"):</label>
            <div class="col-sm-8">
                <select id="ddlFarmerBank" class="form-control select2" tabindex="41">
                    <option>@DbRes.T("SELECT", "Common")</option>
                </select>
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Branch Name", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.BranchName, new { @class = "form-control", @placeholder = @DbRes.T("Branch Name", "Farmer_Form"), @tabindex = "42" })
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-12">
            <div class="col-sm-12">
                <label class='col-md-1 custom-label control-label text-semibold text-size-large pt-5 ml-10'> @DbRes.T("Branch Address", "Farmer_Form"):</label>
                <div class="col-sm-10">
                    @Html.TextAreaFor(model => model.BranchAddress, new { @class = "form-control", @style = "margin-left:5%;Height:60px !important", @rows = "3", @placeholder = @DbRes.T("Branch Address", "Farmer_Form"), @tabindex = "43" })
                </div>
            </div>
            <div class="col-sm-3">
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Account Number", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.AccountNumber, new { @class = "form-control", @placeholder = @DbRes.T("Account Number", "Farmer_Form"), @tabindex = "44" })
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("IFSC Code", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.IFSCCode, new { @class = "form-control", @placeholder = @DbRes.T("IFSC Code", "Farmer_Form"), @tabindex = "45" })
            </div>
        </div>
    </div>

    <div class="row mt-10" style="background-color:darkslategrey;width:99%">
        <div class="col-sm-12">
            <label class='ml-10 pt-5' style="font-size:14px;color:white;font-weight:bold">
                @DbRes.T("DOCUMENT INFORMATION", "Farmer_Form")
            </label>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Upload Aadhar Card", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.IMAGE_AADHAR, "", new { @class = "form-control", @type = "file" })
            </div>
        </div>
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Upload PAN Card", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.IMAGE_PAN, "", new { @class = "form-control", @type = "file" })
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-sm-6">
            <label class='col-md-3 custom-label control-label text-semibold text-size-large pt-5 ml-10'>@DbRes.T("Upload GST Certificate", "Farmer_Form"):</label>
            <div class="col-sm-8">
                @Html.TextBoxFor(model => model.IMAGE_GST, "", new { @class = "form-control", @type = "file" })
            </div>
        </div>
    </div>

    <div class="row mt-10">
        <div class="col-md-12">
            <div class="text-right">
                <div class="toolPanel-icon">
                    <button id="btnFarmerSave" type="button" class="btn btn bg-teal" data-popup="tooltip" data-container="body" data-original-title="SAVE">
                        <i class="icon-add"></i>@DbRes.T("SAVE", "Common")
                    </button>

                    <button id="btnFarmerCancel" type="button" class="btn btn-default" data-popup="tooltip" data-container="body" data-original-title="CANCEL">
                        <i class="icon-folder-remove"></i>@DbRes.T("CANCEL", "Common")
                    </button>
                </div>
            </div>
        </div>
    </div>
}

<script type="text/javascript">
    $(document).ready(function () {
        FarmerInit();
        Farmer_DrilDownEvents();
        $("#ContactNo,#MobileNo,#ChairmanContactNo,#ChairmanMobileNo,#SecretaryContactNo,#SecretaryMobileNo,#TotalShop,#RegisterFarmer").ForceNumericOnly();
    });

    function FarmerInit() {
        $(".select2").select2();
        FillDropdownListFromSPJson("DropDownSP", "", "ddlFarmerState", false, "", "tblState", "AutoID", "StateName", "", "StateName");
        FillDropdownListFromSPJson("DropDownSP", "", "ddlFarmerState_Chair", false, "", "tblState", "AutoID", "StateName", "", "StateName");
        FillDropdownListFromSPJson("DropDownSP", "", "ddlFarmerBank", false, "", "tblBank", "AutoID", "BankName", "", "BankName");
        FillDropdownListFromSPJson("DropDownSP", "", "ddlFarmerAPMC", false, "", "APMC", "AutoID", "Name", "", "Name");
    }

    function Farmer_DrilDownEvents() {
        $('#ddlFarmerState').on("change", function (e) {
            var val = $(this).val();
            if (val == '' || val == undefined || val == null || val == "") {
                $("#ddlFarmerDistrict").empty();
                $("#ddlFarmerDistrict").empty().append('<option  value="">Select</option>');
            }
            else {
                FillDropdownListFromSPJson("DropDownSP", "", "ddlFarmerDistrict", false, "", "tblDistrict", "AutoID", "DistrictName", "StateId=" + val + "", "DistrictName");
            }
        });

        $('#ddlFarmerDistrict').on("change", function (e) {
            var val = $(this).val();
            if (val == '' || val == undefined || val == null || val == "") {
                $("#ddlFarmerTaluka").empty();
                $("#ddlFarmerTaluka").empty().append('<option  value="">Select</option>');
            }
            else {
                FillDropdownListFromSPJson("DropDownSP", "", "ddlFarmerTaluka", false, "", "tblTaluka", "AutoID", "TalukaName", "DistrictId=" + val + "", "TalukaName");
            }
        });

        $('#ddlFarmerState_Chair').on("change", function (e) {
            var val = $(this).val();
            if (val == '' || val == undefined || val == null || val == "") {
                $("#ddlFarmerDistrict_Chair").empty();
                $("#ddlFarmerDistrict_Chair").empty().append('<option  value="">Select</option>');
            }
            else {
                FillDropdownListFromSPJson("DropDownSP", "", "ddlFarmerDistrict_Chair", false, "", "tblDistrict", "AutoID", "DistrictName", "StateId=" + val + "", "DistrictName");
            }
        });

        $('#ddlFarmerDistrict_Chair').on("change", function (e) {
            var val = $(this).val();
            if (val == '' || val == undefined || val == null || val == "") {
                $("#ddlFarmerTaluka_Chair").empty();
                $("#ddlFarmerTaluka_Chair").empty().append('<option  value="">Select</option>');
            }
            else {
                FillDropdownListFromSPJson("DropDownSP", "", "ddlFarmerTaluka_Chair", false, "", "tblTaluka", "AutoID", "TalukaName", "DistrictId=" + val + "", "TalukaName");
            }
        });
    }

    $('#btnFarmerSave').click(function (e) {
        e.preventDefault();
        if (FarmerValidations()) {
            $("#FarmerStateId").val($("#ddlFarmerState").val());
            $("#FarmerDistrictId").val($("#ddlFarmerDistrict").val());
            $("#FarmerTalukaId").val($("#ddlFarmerTaluka").val());

            $("#FarmStateId").val($("#ddlFarmerState_Chair").val());
            $("#FarmDistrictId").val($("#ddlFarmerDistrict_Chair").val());
            $("#FarmTalukaId").val($("#ddlFarmerTaluka_Chair").val());

            $("#FarmerBankId").val($("#ddlFarmerBank").val());
            $("#FarmerAPMCId").val($("#ddlFarmerAPMC").val());

            $('form').submit();
        }
    });

    function FarmerValidations() {
        debugger;
        if (CheckMandatoryField("FarmerFirstName", "textbox") == false) {
            return false;
        }
        if (CheckMandatoryField("FarmerLastName", "textbox") == false) {
            return false;
        }
        return true;
    }
</script>